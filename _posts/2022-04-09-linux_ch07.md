---
layout: post
title: "[Linux System Programming] Ch07 스레딩 "
date: 2022-04-09
categories:
  - Trouble Shooting
tags:
  [
    blog,
    jekyll,
    jekyll theme,
    NexT theme,
    Computer Science,
    컴퓨터공학,
    개발,
    소프트웨어,
    지킬 테마,
    지킬 블로그 포스팅,
    GitHub Pages,
  ]
---

# [Ch07 스레딩]

- 스레딩은 단일 프로세스 내에서 실행 유닛을 여러 개 생성하고 관리하는 작업을 뜻한다.
- 스레딩은 Data-race condition과 Deadlock을 통해 어마어마한 프로그래밍 에러를 발생시키는 원인이다.

# 7.1 바이너리, 프로세스, 스레드

- 바이너리
  - 저장장치에 기록되어 있는 프로그램
  - 특정 OS와 머신 아키텍처에서 접근할 수 있는 형식으로 컴파일되어 아직 실행되지 않은 프로그램.
- 프로세스
  - 실행된 바이너리를 표현하기 위한 OS의 추상 개념
  - 메모리에 적재되고 가상화된 메모리와 열린 fd, 연관된 사용자와 같은 커널 리소스 등을 포함
- 스레드
  - 프로세스 내의 실행 단위로 가상화된 프로세서, 스택, 프로그램 상태 등을 포함.
- 프로세스는 실행 중인 바이너리이고, 스레드는 OS의 프로세스 스케줄러에 의해 스케줄링될 수 있는 최소한의 실행 단위를 뜻함.
- 하나의 프로세스는 스레드를 하나 이상 포함한다.
- 가상 메모리
  - 프로세스가 실제 물리적인 RAM이나 디스크 저장장치에 맵핑된 메모리의 고유한 뷰를 사용할 수 있도록 함.
  - 스레드가 아니라 프로세스와 관련 있음.
    - 각 프로세스는 메모리에 대한 하나의 유일한 뷰를 갖지만 한 프로세스 내의 모든 스레드는 메모리를 서로 공유한다.
- 가상 프로세서
  - 여러 프로세스 상에서 많은 프로세스가 멀티태스킹 중이라는 사실을 숨김으로써 프로세스가 혼자 실행되고 있다고 착각하게 만든다.
  - 스레드와 관련이 있음.
  - 각각의 스레드는 스케줄이 가능한 독립적인 요소이며, 단일 프로세스가 한번에 여러 가지 일을 할 수 있게 해준다.
- → 스레드는 프로세스와 마찬가지로 시스템의 프로세서 모두 소유했다는 환상을 가지지만, 가상 메모리의 모든 메모리를 소유했다는 환상을 가지고 있진 않다.
- 또한 프로세스 내의 모든 스레드는 메모리 주소 공간 전체를 공유한다.

# 7.2 멀티 스레딩

- 멀티 스레딩의 장점
- 프로그래밍 추상화
  - 작업을 나누고 각각 실행 단위로 할당하는 것은 좋은 접근 방법
- 병렬성
  - 프로세서가 여러 개인 머신에서 효과적으로 병렬성을 구현할 수 있음
